USE `rococo-art`;

-- Включение необходимых функций для UUID
SET GLOBAL log_bin_trust_function_creators = 1;

-- Создание таблицы стран
CREATE TABLE IF NOT EXISTS `country` (
    id          BINARY(16)  UNIQUE NOT NULL PRIMARY KEY DEFAULT (UUID_TO_BIN(UUID(), TRUE)),
    name        VARCHAR(255) UNIQUE NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
  COMMENT='Список стран';
  
-- Создание таблицы с музеями
CREATE TABLE IF NOT EXISTS `museum` (
    id          BINARY(16)  UNIQUE NOT NULL PRIMARY KEY DEFAULT (UUID_TO_BIN(UUID(), TRUE)),
    title       VARCHAR(255)  UNIQUE NOT NULL,
    description VARCHAR(2000),
    city        VARCHAR(255),
    photo       LONGBLOB COMMENT 'Бинарные данные изображения',
    country_id  BINARY(16)  NOT NULL,
    CONSTRAINT fk_country_id FOREIGN KEY (country_id) REFERENCES `country` (id)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
      COMMENT='Музеи с дополнительными данными';
      
-- Вставляем страны только если их нет
INSERT IGNORE INTO `country` (name) VALUES
("Австралия"),
('Австрия'),
('Азербайджан'),
('Албания'),
('Алжир'),
('Ангола'),
('Андорра'),
('Антигуа и Барбуда'),
('Аргентина'),
('Армения'),
('Афганистан'),
('Багамские Острова'),
('Бангладеш'),
('Барбадос'),
('Бахрейн'),
('Белиз'),
('Белоруссия'),
('Бельгия'),
('Бенин'),
('Болгария'),
('Боливия'),
('Босния и Герцеговина'),
('Ботсвана'),
('Бразилия'),
('Бруней'),
('Буркина-Фасо'),
('Бурунди'),
('Бутан'),
('Вануату'),
('Великобритания'),
('Венгрия'),
('Венесуэла'),
('Восточный Тимор'),
('Вьетнам'),
('Габон'),
('Республика Гаити'),
('Гайана'),
('Гамбия'),
('Гана'),
('Гватемала'),
('Гвинея'),
('Гвинея-Бисау'),
('Германия'),
('Гондурас'),
('Гренада'),
('Греция'),
('Грузия'),
('Дания'),
('Джибути'),
('Доминика'),
('Доминиканская Республика'),
('Египет'),
('Замбия'),
('Зимбабве'),
('Израиль'),
('Индия'),
('Индонезия'),
('Иордания'),
('Ирак'),
('Иран'),
('Ирландия'),
('Исландия'),
('Испания'),
('Италия'),
('Йемен'),
('Кабо-Верде'),
('Казахстан'),
('Камбоджа'),
('Камерун'),
('Канада'),
('Катар'),
('Кения'),
('Республика Кипр'),
('Киргизия'),
('Кирибати'),
('Китай'),
('Колумбия'),
('Коморы'),
('Республика Конго'),
('Демократическая Республика Конго'),
('Корейская Народно-Демократическая Республика'),
('Республика Корея'),
('Коста-Рика'),
('Кот-д’Ивуар'),
('Куба'),
('Кувейт'),
('Лаос'),
('Латвия'),
('Лесото'),
('Либерия'),
('Ливан'),
('Ливия'),
('Литва'),
('Лихтенштейн'),
('Люксембург'),
('Маврикий'),
('Мавритания'),
('Мадагаскар'),
('Малави'),
('Малайзия'),
('Мали'),
('Мальдивы'),
('Мальта'),
('Марокко'),
('Маршалловы Острова'),
('Мексика'),
('Федеративные Штаты Микронезии'),
('Мозамбик'),
('Молдавия'),
('Монако'),
('Монголия'),
('Мьянма'),
('Намибия'),
('Науру'),
('Непал'),
('Нигер'),
('Нигерия'),
('Нидерланды'),
('Никарагуа'),
('Новая Зеландия'),
('Норвегия'),
('Объединённые Арабские Эмираты'),
('Оман'),
('Пакистан'),
('Палау'),
('Панама'),
('Папуа — Новая Гвинея'),
('Парагвай'),
('Перу'),
('Польша'),
('Португалия'),
('Россия'),
('Руанда'),
('Румыния'),
('Сальвадор'),
('Самоа'),
('Сан-Марино'),
('Сан-Томе и Принсипи'),
('Саудовская Аравия'),
('Флаг Северной Македонии'),
('Сейшельские Острова'),
('Сенегал'),
('Сент-Винсент и Гренадины'),
('Сент-Китс и Невис'),
('Сент-Люсия'),
('Сербия'),
('Сингапур'),
('Сирия'),
('Словакия'),
('Словения'),
('Соединённые Штаты Америки'),
('Соломоновы Острова'),
('Сомали'),
('Судан'),
('Суринам'),
('Сьерра-Леоне'),
('Таджикистан'),
('Таиланд'),
('Танзания'),
('Того'),
('Тонга'),
('Тринидад и Тобаго'),
('Тувалу'),
('Тунис'),
('Туркменистан'),
('Турция'),
('Уганда'),
('Узбекистан'),
('Украина'),
('Уругвай'),
('Фиджи'),
('Филиппины'),
('Финляндия'),
('Франция'),
('Хорватия'),
('Центральноафриканская Республика'),
('Чад'),
('Черногория'),
('Чехия'),
('Чили'),
('Швейцария'),
('Швеция'),
('Флаг Шри-Ланки'),
('Эквадор'),
('Экваториальная Гвинея'),
('Эритрея'),
('Эсватини'),
('Эстония'),
('Эфиопия'),
('Южно-Африканская Республика'),
('Южный Судан'),
('Ямайка'),
('Япония'),
('Ватикан'),
('Палестина');